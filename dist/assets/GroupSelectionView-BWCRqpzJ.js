import{r as a,u as h,e as m,j as e,N as g,m as i,G as u}from"./index-CTtjqtkG.js";const y={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.08}}},b={hidden:{opacity:0,y:15},show:{opacity:1,y:0,transition:{duration:.2}}},f=a.memo(()=>{const{myGroups:d,fetchMyGroups:n,selectGroup:c,isLoading:p,error:s}=h(),[x,l]=m.useState(null);return a.useEffect(()=>{n()},[n]),a.useEffect(()=>((async()=>{const o=await window.electron.instance.getCurrentGroup();l(o)})(),window.electron.instance.onGroupChanged(o=>{l(o)})),[]),p?e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:e.jsx("h2",{className:"text-gradient",children:"Scanning Group Frequencies..."})}):s?e.jsxs("div",{style:{textAlign:"center",marginTop:"4rem"},children:[e.jsx("h2",{style:{color:"#ef4444"},children:"Connection Error"}),e.jsx("div",{style:{textAlign:"left",background:"rgba(225, 29, 72, 0.1)",padding:"1rem",borderRadius:"8px",border:"1px solid rgba(225, 29, 72, 0.2)",margin:"1rem auto",maxWidth:"600px",overflow:"auto",maxHeight:"300px"},children:e.jsx("pre",{style:{margin:0,overflow:"visible",whiteSpace:"pre-wrap",wordBreak:"break-word",fontFamily:"monospace"},children:s})}),e.jsx(g,{onClick:()=>n(),style:{marginTop:"1rem"},children:"Retry"})]}):e.jsxs("div",{style:{padding:"0 2rem"},children:[e.jsxs("div",{style:{marginBottom:"2rem",textAlign:"center"},children:[e.jsx("h1",{className:"text-gradient",style:{fontSize:"2.5rem",fontWeight:800},children:"SELECT GROUP"}),e.jsx("p",{style:{color:"var(--color-text-dim)"},children:"Identify target for moderation protocols."})]}),e.jsx(i.div,{variants:y,initial:"hidden",animate:"show",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"2rem"},children:d.map(r=>{const t=r.id===x;return e.jsx(i.div,{variants:b,children:e.jsx(i.div,{whileHover:{y:-8,boxShadow:t?"0 15px 30px rgba(0, 255, 100, 0.3), 0 0 20px rgba(0, 255, 100, 0.2) inset":"0 15px 30px rgba(var(--primary-hue), 0.3), 0 0 20px rgba(var(--primary-hue), 0.2) inset"},transition:{type:"spring",stiffness:300,damping:20},onClick:()=>c(r),style:{cursor:"pointer",height:"100%"},children:e.jsxs(u,{className:"group-card",style:{position:"relative",height:"200px",display:"flex",flexDirection:"column",justifyContent:"flex-end",overflow:"hidden",padding:0,border:t?"1px solid #22c55e":"1px solid var(--border-color)"},children:[t&&e.jsx(i.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},style:{position:"absolute",top:"12px",right:"12px",background:"#22c55e",color:"black",padding:"4px 12px",borderRadius:"12px",fontWeight:"bold",fontSize:"0.8rem",zIndex:10,boxShadow:"0 0 10px #22c55e"},children:"LIVE"}),r.bannerUrl?e.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:`url(${r.bannerUrl})`,backgroundSize:"cover",backgroundPosition:"center",filter:"brightness(0.6)",zIndex:0}}):e.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(45deg, var(--color-primary), var(--color-accent))",opacity:.2,zIndex:0}}),e.jsxs("div",{style:{position:"relative",zIndex:1,padding:"1.5rem",background:"linear-gradient(to top, rgba(0,0,0,0.9), transparent)"},children:[r.iconUrl&&e.jsx("img",{src:r.iconUrl,style:{width:50,height:50,borderRadius:"12px",marginBottom:"0.5rem",border:"2px solid white"}}),e.jsx("h3",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"white"},children:r.name}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.5rem"},children:[e.jsx("span",{style:{fontSize:"0.8rem",color:"rgba(255,255,255,0.8)"},children:r.shortCode}),e.jsxs("span",{style:{fontSize:"0.7rem",background:"linear-gradient(90deg, hsla(var(--primary-hue), 100%, 60%, 0.2), hsla(var(--primary-hue), 100%, 40%, 0.2))",border:"1px solid hsla(var(--primary-hue), 100%, 60%, 0.3)",color:"white",padding:"2px 8px",borderRadius:"4px",backdropFilter:"blur(4px)"},children:[r.memberCount," Members"]})]})]})]})})},r.id)})})]})});f.displayName="GroupSelectionView";export{f as GroupSelectionView};
